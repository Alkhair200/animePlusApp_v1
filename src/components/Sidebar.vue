<template>
    <div>
        <!-- start sidebar -->
        <section class="sidebar side-width">
            <div class="side-content">

                <div class="toggle-icon">
                    <i class="fa fa-navicon"></i>
                </div>

                <div class="user">
                    <div v-if="getLoggedIn" class="user-info">
                        <a href="profile.html">
                            <img class="" :src="getUser.avatar" alt="">
                        </a>
                        <a href="profile.html" style="all: unset; cursor: pointer;">
                            <h6 class="name">{{getUser.name}}</h6>
                        </a>
                        <p class="email">{{getUser.email}}</p>
                        <p class="sign-out">
                            <button @click.prevent="logout">
                                <i class="fa fa-sign-out"></i>
                            </button>
                            
                        </p>
                    </div>

                    <router-link v-if="!getLoggedIn" to="/login" class="btn">ุชุณุฌูู ุงูุฏุฎูู</router-link>

                    <router-link v-if="getLoggedIn" to="/update-profile" class="btn">ุชุนุฏูู ุงูููู ุงูุดุฎุตู</router-link>
                    <!-- <a v-if="getLoggedIn" href="https://animeeplus.net/subscriptions/" class="btn subsc-btn">ุฅุดุชุฑุงู ุงูุงูู</a> -->

                    <div class="social-media">
                        <span>
                            <a :href="getParams.telegram_url" target="_blank">
                                <i class="fa fa-telegram"></i>
                            </a>                            
                        </span>
                        <span>
                            <a :href="getParams.instagram_url" target="_blank">
                                <i class="fa fa-instagram"></i>
                            </a>                              
                        </span>
                        <span>
                            <a :href="getParams.twitter_url" target="_blank">
                                <i class="fa fa-twitter"></i>
                            </a>                            
                        </span>
                        <span>
                            <a :href="getParams.facebook_url" target="_blank">
                                <i class="fa fa-facebook"></i>
                            </a>
                            

                            <!--  -->
                        </span>
                    </div>
                </div>
                <div class="list-view">
                    <ul>

                        <li>
                            <i class="fa fa-th-large"></i>
                            <router-link to="library">
                                ุงูููุชุจุฉ
                            </router-link>
                        </li>

                        <li>
                            <i class="fa fa-clock-o"></i>
                            <router-link to="episode-release-dates">
                                ููุงุนูุฏ ุฅุตุฏุงุฑ ุงูุญููุงุช
                            </router-link>
                        </li>

                        <li>
                            <i class="fa fa-fire"></i>
                            <router-link to="latest">
                                ุงุฎุฑ ุงูุญููุงุช
                            </router-link>
                        </li>

                        <li>
                            <i class="fa fa-fire"></i>
                            <router-link to="latest-episodes-animes">
                                ุงุฎุฑ ุญููุงุช ุงููุฑุชูู
                            </router-link>
                        </li>

                        <li>
                            <i class="fa fa-heart"></i>
                            <router-link to="fav">
                                ูุงุฆูุชู
                            </router-link>
                        </li>

                        <li>
                            <i class="fa fa-crown"></i>
                            <router-link to="vip">
                                ุงูุฃุนุถุงุก ุงููููุฒูู
                            </router-link>
                        </li>

                        <li>
                            <i class="fa fa fa-info-circle"></i>
                            <a data-bs-toggle="modal" href="#suggestions" role="button">
                                ุงูุฅูุชุฑุงุญุงุช
                            </a>
                        </li>                        
                        

                    </ul>
                </div>
            </div>
            <div class="mt-3"></div>  
        </section>
        <!-- End sidebar -->
    </div>

            <!-- start Suggestions -->
            <!-- Modal -->
            <div class="modal fade" id="suggestions" tabindex="-1" aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content" style="background: rgba(51, 51, 51, 0.54) none repeat scroll 0% 0%">
                  <div class="modal-header">
                    <h1 style="color:#fff" class="modal-title fs-5" id="exampleModalLabel">ุชูุฏูู ุฅูุชุฑุงุญ ุงู ุทูุจ ุฅุถุงูุฉ ุฃููู</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <div class="row warning">
                      <div class="container">
                        <p class="color1">
                          1- ุชุฃูุฏ ูู ูุชุงุจุฉ ุฅุณู ุงูุทูุจ ุนู ุทุฑูู ุฌูุฌู ุฃู ูููุน IMDB
                        </p>
                        <p class="color1">
                            2- ุฅุณุชุฎุฏุงู ุจุญุซ ุงูุชุทุจูู ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ ุฌูุฏุงู ููุชุฃูุฏ ูู ุนุฏู ูุฌูุฏู.
                        </p>
                        <p class="color1">
                            3- ูุชู ุงูุนูู ุนูู ุงูุทูุจ ูู ุญุงูุฉ ุชูุงูุฑ ุฌูุฏุฉ ุฌุฏูุฉ ูุน ุชุฑุฌูุฉ ููุงุณุจุฉ.
                        </p>
                        <p class="color1">
                            4- ุชูุฑุงุฑ ุงูุทูุจ ุฃูุซุฑ ูู ูุฑุฉ ูุคุฏู ูุญุธุฑ ุญุณุงุจู.
                        </p>    
                        <p class="color2">
                            5- ุณูุก ุฅุณุชุฎุฏุงู ููุฒุฉ ุงูุฅูุชุฑุงุญุงุช ูุนุฑุถ ุญุณุงุจู ููุฃููุงู ู ุงูุญุฐู.
                        </p>                                             
                      </div>
                    </div>

                    
                    <div class="row">
                      <div class="col-md-12">
                        <input class="form-input input-send" type="text" v-model="suggestion.body" name="example" placeholder="ุฃูุชุจ ุดูุฆุงู" />
                      </div>

                      <div class="row">
                        <div class="col-md-12">
                          <button style="width:100%;border-radius: 5px;" type="button" 
                          @click.prevent="sendSuggestion"
                           class="btn btn-danger send-suggestion">ุฅุฑุณุงู</button>
                        </div>
                      </div>

                    </div>
                      

                  </div>
                  <!-- <div class="modal-footer"> -->
                    <!-- <button type="button" class="btn btn-secondary close" data-bs-dismiss="modal">ุฅุบูุงู</button> -->
                    <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
                  <!-- </div> -->
                </div>
              </div>
            </div>
            <!--  End Suggestions -->    

<div v-show="isLoading">
    <loader object="#ffb600" color1="#ffffff" color2="#ca1919" size="5" speed="2" bg="#000000" objectbg="#999793" opacity="80" disableScrolling="" name="circular"></loader>   
</div>    
</template>

<script>
    export default{

        data(){
            return{
                isLoading:false,
                suggestion:{
                    body:null,
                },
            }
        },

        computed:{
            getUser(){
                return this.$store.getters.get_user;
            },
            getToken(){
                return this.$store.getters.get_token;
            },
            getLoggedIn(){
                return this.$store.getters.get_loggedIn
            },     
            getParams(){
                return this.$store.getters.get_params
            },                   
        },

        methods:{

            sendSuggestion(){
            this.isLoading = true
            this.axios.post('https://animeeplus.online/api/suggest/code',{
                title: "ุฅูุชุฑุงุญ",
                message: this.suggestion.body,
            }
            ).then(res=>{
                
                this.isLoading = false

                if (res.data.message == "created successfully") {
                    this.$notify({
                       
                      title: "ุชู ุชูุฏูู ุฅูุชุฑุงุญู ุจูุฌุงุญ ๐",
                      type: "success",
                    });                    
                }
                 

            }).catch(err=>{
                this.isLoading = false
                if (err.message == "Network Error") {
                    window.alert(
                      "ูุง ููุฌุฏ ุฅุชุตุงู</n>ุชุญูู ูู ุงูุงุชุตุงู ุจุงูุงูุชุฑูุช ุซู ุงุนุฏ ุงููุญุงููู")
                }
            })
                

            },
        }
    }
</script>

<style>
    .color1{
    color:#7067de;        
    }
    .color2{
        color:#f03;
    }

    .input-send{
margin-bottom: 15px;
padding: 5px 10px; 

width: 100%;
margin-bottom: 15px; 
border-radius: 5px;      
    }

    ::placeholder{
        color:#333;
    }
</style>